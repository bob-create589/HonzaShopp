<!DOCTYPE html>
<html lang="cs">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>3D Tisk ‚Äì Obchod</title>
<style>
  body { font-family: Arial, sans-serif; background: linear-gradient(135deg, #0f2027, #203a43, #2c5364); color: white; margin: 0; padding: 20px; }
  .produkty { display: flex; flex-wrap: wrap; gap: 20px; }
  .produkt { background: #1e2a38; border-radius: 10px; padding: 15px; width: 220px; text-align: center; }
  .produkt img { width: 100%; border-radius: 10px; }
  button { background: #3c9d9b; border: none; color: white; padding: 10px 20px; border-radius: 5px; cursor: pointer; }
  button:hover { background: #29908c; }
  #formular { display: none; margin-top: 30px; background: #12303a; padding: 20px; border-radius: 10px; max-width: 400px; }
  label, input { display: block; width: 100%; margin-bottom: 15px; }
  input { padding: 8px; border-radius: 5px; border: none; }
  #status { margin-top: 15px; }
</style>
</head>
<body>

<h1>üõí Obchod s 3D Tiskem</h1>
<div class="produkty">
  <div class="produkt" data-name="P√≠≈°≈•alka" data-price="10 Kƒç">
    <img src="obrazky/pistalka.jpg" alt="P√≠≈°≈•alka" />
    <h3>P√≠≈°≈•alka</h3>
    <p>10 Kƒç</p>
    <button class="btn-podivat">Pod√≠vat Se</button>
  </div>
  <div class="produkt" data-name="Lego Kostka" data-price="20 Kƒç">
    <img src="obrazky/lego.jpg" alt="Lego Kostka" />
    <h3>Lego Kostka</h3>
    <p>20 Kƒç</p>
    <button class="btn-podivat">Pod√≠vat Se</button>
  </div>
  <div class="produkt" data-name="Raptor" data-price="50 Kƒç">
    <img src="obrazky/raptor.jpg" alt="Raptor" />
    <h3>Raptor</h3>
    <p>50 Kƒç</p>
    <button class="btn-podivat">Pod√≠vat Se</button>
  </div>
  <div class="produkt" data-name="Stoj√°nek na mobil" data-price="65 Kƒç">
    <img src="obrazky/stanek.jpg" alt="Stoj√°nek na mobil" />
    <h3>Stoj√°nek na mobil</h3>
    <p>65 Kƒç</p>
    <button class="btn-podivat">Pod√≠vat Se</button>
  </div>
</div>

<div id="formular">
  <h2>Objedn√°vka produktu: <span id="produkt-nazev"></span></h2>
  <form id="objednavka-form">
    <label for="jmeno">Va≈°e jm√©no:</label>
    <input type="text" id="jmeno" name="jmeno" required />

    <label for="barva">Barva:</label>
    <input type="text" id="barva" name="barva" placeholder="nap≈ô. ƒçerven√°" required />

    <button type="submit">Objednat</button>
  </form>
  <div id="status"></div>
</div>

<script>
  const btns = document.querySelectorAll('.btn-podivat');
  const formular = document.getElementById('formular');
  const produktNazevSpan = document.getElementById('produkt-nazev');
  const objednavkaForm = document.getElementById('objednavka-form');
  const statusDiv = document.getElementById('status');

  // Sem vlo≈æ sv≈Øj Discord webhook URL (pozor na bezpeƒçnost, ide√°lnƒõ na backend)
  const DISCORD_WEBHOOK_URL = 'https://discord.com/api/webhooks/1391394083318140999/-e5g8PGZx62-k1CnJtA-rrMRhanv_gULoJvtWRYI7tFcD2lJdiAPH-NvDuYsbSCedQ0Q';

  let vybranyProdukt = null;

  btns.forEach(btn => {
    btn.addEventListener('click', () => {
      const produktDiv = btn.closest('.produkt');
      vybranyProdukt = {
        name: produktDiv.dataset.name,
        price: produktDiv.dataset.price
      };
      produktNazevSpan.textContent = vybranyProdukt.name + " (" + vybranyProdukt.price + ")";
      formular.style.display = 'block';
      statusDiv.textContent = '';
      objednavkaForm.style.display = 'block';
    });
  });

  objednavkaForm.addEventListener('submit', e => {
    e.preventDefault();
    const jmeno = document.getElementById('jmeno').value.trim();
    const barva = document.getElementById('barva').value.trim();

    if (!jmeno || !barva) {
      alert('Vypl≈à pros√≠m jm√©no i barvu.');
      return;
    }

    const message = {
      content: `**Nov√° objedn√°vka:**\nProdukt: ${vybranyProdukt.name} (${vybranyProdukt.price})\nJm√©no: ${jmeno}\nBarva: ${barva}`
    };

    fetch(DISCORD_WEBHOOK_URL, {
      method: 'POST',
      headers: { 'Content-Type': 'application/json' },
      body: JSON.stringify(message)
    })
    .then(response => {
      if (response.ok) {
        statusDiv.style.color = 'lightgreen';
        statusDiv.textContent = 'Objedn√°vka byla odesl√°na!';
        objednavkaForm.reset();
        objednavkaForm.style.display = 'none';
      } else {
        throw new Error('Chyba p≈ôi odes√≠l√°n√≠ objedn√°vky.');
      }
    })
    .catch(error => {
      statusDiv.style.color = 'red';
      statusDiv.textContent = 'Nepoda≈ôilo se odeslat objedn√°vku. Zkus to pros√≠m pozdƒõji.';
      console.error(error);
    });
  });
</script>

</body>
</html>
